# Ooder v0.8.0 统一协作任务计划

## 文档信息

| 项目 | 内容 |
|------|------|
| 文档名称 | Ooder v0.8.0 统一协作任务计划 |
| 版本 | v1.0 |
| 日期 | 2026-02-24 |
| 状态 | 正式版 |

---

## 一、协作团队与职责

| 团队 | 负责模块 | 主要职责 |
|------|---------|---------|
| **SDK 团队** | agent-sdk | 核心 SDK 实现、接口定义、驱动加载器 |
| **LLM-SDK 团队** | llm-sdk | LLM 服务接口、多模型适配、能力调度 |
| **SceneEngine 团队** | scene-engine | 场景引擎、接口管理、驱动集成 |

---

## 二、任务总览

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                        v0.8.0 统一协作任务架构                                │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  阶段一：协议与接口定义（v0.8.1）                                             │
│  ─────────────────────────────                                              │
│  工作量：2 人天                                                             │
│                                                                             │
│  ├── [PROTO-001] interface-skill 类型定义                                   │
│  ├── [PROTO-002] interface 定义规范                                         │
│  ├── [PROTO-003] driver 配置规范                                            │
│  ├── [PROTO-004] dependencies.interfaces 扩展                               │
│  └── [PROTO-005] 客户端代理接口定义 (Msg/Cmd/Vfs)                            │
│                                                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  阶段二：SDK 核心实现（v0.8.2）                                              │
│  ─────────────────────────────                                              │
│  工作量：12 人天                                                            │
│                                                                             │
│  ├── [SDK-001] InterfaceRegistry 接口注册表实现                             │
│  ├── [SDK-002] DriverLoader 驱动加载器实现                                  │
│  ├── [SDK-003] InterfaceResolver 接口解析器实现                             │
│  ├── [SDK-004] DriverProxyFactory 代理工厂实现                              │
│  ├── [SDK-005] SkillPackageManager 接口方法扩展                             │
│  ├── [SDK-006] 接口依赖解析逻辑                                             │
│  ├── [SDK-007] 驱动自动发现机制                                             │
│  ├── [SDK-008] 降级策略实现                                                 │
│  ├── [SDK-009] 配置管理扩展                                                 │
│  ├── [SDK-010] MsgClientProxy 实现                                          │
│  ├── [SDK-011] CmdClientProxy 实现                                          │
│  └── [SDK-012] VfsClientProxy 实现                                          │
│                                                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  阶段三：LLM-SDK 实现（v0.8.2）                                              │
│  ─────────────────────────────                                              │
│  工作量：8 人天                                                             │
│                                                                             │
│  ├── [LLM-001] LlmSdk 核心接口实现                                          │
│  ├── [LLM-002] MultiLlmAdapterApi 多模型适配                                │
│  ├── [LLM-003] CapabilityRequestApi 能力请求                                │
│  ├── [LLM-004] MemoryBridgeApi 记忆桥接                                     │
│  ├── [LLM-005] MonitoringApi 监控服务                                       │
│  ├── [LLM-006] NlpInteractionApi NLP交互                                    │
│  ├── [LLM-007] SchedulingApi 调度服务                                       │
│  └── [LLM-008] SecurityApi 安全服务                                         │
│                                                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  阶段四：SceneEngine 集成（v0.8.3）                                          │
│  ─────────────────────────────                                              │
│  工作量：6 人天                                                             │
│                                                                             │
│  ├── [SCENE-001] SceneInterfaceManager 实现                                │
│  ├── [SCENE-002] 场景接口绑定机制                                           │
│  ├── [SCENE-003] 接口实例池管理                                             │
│  ├── [SCENE-004] 接口生命周期管理                                           │
│  ├── [SCENE-005] 场景配置扩展                                               │
│  └── [SCENE-006] LLM-SDK 集成                                               │
│                                                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  阶段五：默认驱动实现（v0.8.4）                                              │
│  ─────────────────────────────                                              │
│  工作量：10 人天                                                            │
│                                                                             │
│  ├── [DRIVER-001] skill-db-sqlite 实现                                      │
│  ├── [DRIVER-002] skill-vector-local 实现                                   │
│  ├── [DRIVER-003] skill-cache-local 实现                                    │
│  ├── [DRIVER-004] skill-storage-local 实现                                  │
│  ├── [DRIVER-005] skill-queue-local 实现                                    │
│  └── [DRIVER-006] skill-llm-local 实现                                      │
│                                                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  阶段六：企业版驱动实现（v0.8.5）                                            │
│  ─────────────────────────────                                              │
│  工作量：15 人天                                                            │
│                                                                             │
│  ├── [ENTERPRISE-001] skill-db-mysql 实现                                   │
│  ├── [ENTERPRISE-002] skill-vector-milvus 实现                              │
│  ├── [ENTERPRISE-003] skill-cache-redis 实现                                │
│  ├── [ENTERPRISE-004] skill-storage-minio 实现                              │
│  ├── [ENTERPRISE-005] skill-queue-kafka 实现                                │
│  └── [ENTERPRISE-006] skill-llm-openai 实现                                 │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 三、详细任务分配

### 3.1 SDK 团队任务

#### 阶段一：协议定义

| 任务ID | 任务名称 | 描述 | 工作量 | 优先级 | 依赖 |
|--------|---------|------|--------|--------|------|
| PROTO-001 | interface-skill 类型 | 新增接口类型 Skill 定义 | 0.5天 | P0 | - |
| PROTO-002 | interface 定义规范 | 定义接口方法、事件规范 | 0.5天 | P0 | PROTO-001 |
| PROTO-003 | driver 配置规范 | 定义驱动配置、降级策略 | 0.5天 | P0 | PROTO-001 |
| PROTO-004 | dependencies 扩展 | 扩展接口依赖声明 | 0.5天 | P0 | PROTO-002 |
| PROTO-005 | 客户端代理接口 | MsgClientProxy/CmdClientProxy/VfsClientProxy | 1天 | P0 | - |

#### 阶段二：核心实现

| 任务ID | 任务名称 | 描述 | 工作量 | 优先级 | 依赖 |
|--------|---------|------|--------|--------|------|
| SDK-001 | InterfaceRegistry | 接口注册表实现 | 2天 | P0 | PROTO-* |
| SDK-002 | DriverLoader | 驱动加载器实现 | 3天 | P0 | SDK-001 |
| SDK-003 | InterfaceResolver | 接口解析器实现 | 2天 | P0 | SDK-001 |
| SDK-004 | DriverProxyFactory | 动态代理工厂 | 2天 | P1 | SDK-002 |
| SDK-005 | SkillPackageManager | 接口方法扩展 | 2天 | P0 | SDK-002 |
| SDK-006 | 依赖解析 | 接口依赖解析逻辑 | 2天 | P0 | SDK-003 |
| SDK-007 | 自动发现 | 驱动自动发现机制 | 1天 | P1 | SDK-002 |
| SDK-008 | 降级策略 | 自动降级实现 | 1天 | P0 | SDK-003 |
| SDK-009 | 配置管理 | 接口配置扩展 | 1天 | P1 | SDK-005 |
| SDK-010 | MsgClientProxy | 消息客户端代理实现 | 2天 | P0 | PROTO-005 |
| SDK-011 | CmdClientProxy | 命令客户端代理实现 | 2天 | P0 | PROTO-005 |
| SDK-012 | VfsClientProxy | VFS客户端代理实现 | 2天 | P1 | PROTO-005 |

#### 阶段五：默认驱动

| 任务ID | 任务名称 | 描述 | 工作量 | 优先级 | 依赖 |
|--------|---------|------|--------|--------|------|
| DRIVER-001 | skill-db-sqlite | SQLite 数据库驱动 | 2天 | P0 | SDK-002 |
| DRIVER-002 | skill-vector-local | 本地向量存储 | 3天 | P0 | SDK-002 |
| DRIVER-003 | skill-cache-local | 本地缓存驱动 | 1天 | P0 | SDK-002 |
| DRIVER-004 | skill-storage-local | 本地文件存储 | 2天 | P1 | SDK-002 |
| DRIVER-005 | skill-queue-local | 本地消息队列 | 2天 | P1 | SDK-002 |

**SDK 团队工作量统计**：24 人天

---

### 3.2 LLM-SDK 团队任务

#### 阶段二：核心实现

| 任务ID | 任务名称 | 描述 | 工作量 | 优先级 | 依赖 |
|--------|---------|------|--------|--------|------|
| LLM-001 | LlmSdk 核心接口 | LlmSdk/LlmSdkFactory 实现 | 2天 | P0 | - |
| LLM-002 | MultiLlmAdapterApi | 多模型适配器 API | 2天 | P0 | LLM-001 |
| LLM-003 | CapabilityRequestApi | 能力请求 API | 1天 | P0 | LLM-001 |
| LLM-004 | MemoryBridgeApi | 记忆桥接 API | 1天 | P1 | LLM-001 |
| LLM-005 | MonitoringApi | 监控服务 API | 1天 | P1 | LLM-001 |
| LLM-006 | NlpInteractionApi | NLP 交互 API | 1天 | P1 | LLM-001 |
| LLM-007 | SchedulingApi | 调度服务 API | 1天 | P1 | LLM-001 |
| LLM-008 | SecurityApi | 安全服务 API | 1天 | P1 | LLM-001 |

#### 阶段五：默认驱动

| 任务ID | 任务名称 | 描述 | 工作量 | 优先级 | 依赖 |
|--------|---------|------|--------|--------|------|
| DRIVER-006 | skill-llm-local | 本地 LLM 驱动 | 3天 | P0 | LLM-002 |

#### 阶段六：企业版驱动

| 任务ID | 任务名称 | 描述 | 工作量 | 优先级 | 依赖 |
|--------|---------|------|--------|--------|------|
| ENTERPRISE-006 | skill-llm-openai | OpenAI LLM 驱动 | 2天 | P1 | LLM-002 |

**LLM-SDK 团队工作量统计**：13 人天

---

### 3.3 SceneEngine 团队任务

#### 阶段三：引擎集成

| 任务ID | 任务名称 | 描述 | 工作量 | 优先级 | 依赖 |
|--------|---------|------|--------|--------|------|
| SCENE-001 | SceneInterfaceManager | 场景接口管理器 | 2天 | P0 | SDK-001 |
| SCENE-002 | 接口绑定 | 场景接口绑定机制 | 1天 | P0 | SCENE-001 |
| SCENE-003 | 实例池 | 接口实例池管理 | 1天 | P1 | SCENE-001 |
| SCENE-004 | 生命周期 | 接口生命周期管理 | 1天 | P1 | SCENE-001 |
| SCENE-005 | 配置扩展 | 场景配置扩展 | 1天 | P0 | SCENE-002 |
| SCENE-006 | LLM-SDK 集成 | 集成 LLM-SDK 能力 | 2天 | P0 | LLM-001 |

#### 阶段六：企业版驱动

| 任务ID | 任务名称 | 描述 | 工作量 | 优先级 | 依赖 |
|--------|---------|------|--------|--------|------|
| ENTERPRISE-001 | skill-db-mysql | MySQL 数据库驱动 | 2天 | P1 | DRIVER-001 |
| ENTERPRISE-002 | skill-vector-milvus | Milvus 向量驱动 | 3天 | P1 | DRIVER-002 |
| ENTERPRISE-003 | skill-cache-redis | Redis 缓存驱动 | 2天 | P1 | DRIVER-003 |
| ENTERPRISE-004 | skill-storage-minio | MinIO 存储驱动 | 2天 | P2 | DRIVER-004 |
| ENTERPRISE-005 | skill-queue-kafka | Kafka 消息驱动 | 3天 | P2 | DRIVER-005 |

**SceneEngine 团队工作量统计**：17 人天

---

## 四、接口定义规范

### 4.1 MsgClientProxy 接口

```java
package net.ooder.sdk.msg;

public interface MsgClientProxy {
    
    void init(MsgClientConfig config);
    
    MsgResult sendToUser(String userId, String message);
    
    MsgResult sendToGroup(String groupId, String message);
    
    void subscribe(String topic, MsgListener listener);
    
    void unsubscribe(String topic);
    
    MsgResult publish(String topic, String message);
    
    List<MsgRecord> getOfflineMessages(String userId);
    
    void ackMessage(String msgId);
    
    boolean recallMessage(String msgId);
    
    void shutdown();
}
```

### 4.2 CmdClientProxy 接口

```java
package net.ooder.sdk.cmd;

public interface CmdClientProxy {
    
    void init(CmdClientConfig config);
    
    CommandBuilder newCommand();
    
    CmdResponse send(Command command);
    
    void sendAsync(Command command, CmdCallback callback);
    
    boolean cancel(String commandId);
    
    CmdStatus getStatus(String commandId);
    
    List<CmdRecord> getHistory(long startTime, long endTime);
    
    void shutdown();
}
```

### 4.3 VfsClientProxy 接口

```java
package net.ooder.sdk.vfs;

public interface VfsClientProxy {
    
    void init(VfsClientConfig config);
    
    VfsResult upload(String path, byte[] data);
    
    byte[] download(String path);
    
    boolean delete(String path);
    
    List<VfsFileInfo> list(String path);
    
    VfsFileInfo stat(String path);
    
    boolean mkdir(String path);
    
    boolean copy(String srcPath, String destPath);
    
    boolean move(String srcPath, String destPath);
    
    List<VfsVersion> getVersions(String path);
    
    void shutdown();
}
```

---

## 五、里程碑计划

| 里程碑 | 版本 | 时间 | 验收标准 | 负责团队 |
|--------|------|------|----------|----------|
| M1 | v0.8.1 | T+1周 | 协议与接口定义完成 | SDK 团队 |
| M2 | v0.8.2-alpha | T+3周 | SDK 核心实现完成 | SDK + LLM-SDK |
| M3 | v0.8.2-beta | T+4周 | SceneEngine 集成完成 | SceneEngine |
| M4 | v0.8.3 | T+6周 | 默认驱动实现完成 | 全部团队 |
| M5 | v0.8.4 | T+9周 | 企业版驱动实现完成 | 全部团队 |

---

## 六、工作量汇总

| 团队 | 阶段一 | 阶段二 | 阶段三 | 阶段四 | 阶段五 | 阶段六 | 总计 |
|------|--------|--------|--------|--------|--------|--------|------|
| **SDK 团队** | 2天 | 20天 | - | - | 10天 | - | **32天** |
| **LLM-SDK 团队** | - | 10天 | - | - | 3天 | 2天 | **15天** |
| **SceneEngine 团队** | - | - | 8天 | - | - | 12天 | **20天** |
| **总计** | 2天 | 30天 | 8天 | - | 13天 | 14天 | **67天** |

---

## 七、依赖关系图

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                           任务依赖关系                                        │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  [PROTO-001] ──┬──> [PROTO-002] ──> [PROTO-004]                            │
│                │                                                            │
│                └──> [PROTO-003]                                             │
│                                                                             │
│  [PROTO-005] ──────────────> [SDK-010] [SDK-011] [SDK-012]                 │
│                                                                             │
│  [SDK-001] ──┬──> [SDK-002] ──┬──> [SDK-004]                               │
│              │                │                                             │
│              │                ├──> [SDK-005]                                │
│              │                │                                             │
│              │                ├──> [SDK-007]                                │
│              │                │                                             │
│              │                └──> [DRIVER-001~005]                         │
│              │                                                              │
│              └──> [SDK-003] ──┬──> [SDK-006]                               │
│                               │                                             │
│                               ├──> [SDK-008]                                │
│                               │                                             │
│                               └──> [SCENE-001] ──> [SCENE-002~005]         │
│                                                                             │
│  [LLM-001] ──> [LLM-002~008] ──> [DRIVER-006] ──> [ENTERPRISE-006]         │
│                                                                             │
│  [LLM-001] ──────────────────────────────────────> [SCENE-006]             │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 八、验收标准

### 8.1 功能验收

| 模块 | 验收标准 | 验收方式 |
|------|---------|---------|
| InterfaceRegistry | 接口注册/查询正常 | 单元测试 |
| DriverLoader | 驱动加载/卸载正常 | 单元测试 |
| InterfaceResolver | 接口解析/降级正常 | 集成测试 |
| MsgClientProxy | 消息收发/订阅正常 | 集成测试 |
| CmdClientProxy | 命令发送/回调正常 | 集成测试 |
| VfsClientProxy | 文件上传/下载正常 | 集成测试 |
| LlmSdk | 多模型适配正常 | 集成测试 |
| SceneInterfaceManager | 接口绑定/生命周期正常 | 集成测试 |

### 8.2 文档验收

- [ ] 接口文档完整
- [ ] 使用示例完整
- [ ] 错误码定义完整
- [ ] 配置说明完整
- [ ] 升级指南完整

---

## 九、变更记录

| 版本 | 日期 | 变更内容 | 变更人 |
|------|------|---------|--------|
| v1.0 | 2026-02-24 | 合并 V0.8.0_SKILLS_EXTENSION 和 SDK_COLLABORATION 任务 | - |

---

**文档状态**: 正式版  
**下一步**: 各团队确认任务分配，开始执行
